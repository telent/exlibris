Try and keep the privacy model simple ...

Your books are grouped into collections.  You can add friends to each
collection, which allows them to browse/search the books therein.

For each collection: browse permission is for 
self/friends/friends of friends/world

People who are not your friends post 'requests to borrow': everyone
with the book being searched for (perhaps within a particular
grographical area) is notified when someone asks to borrow it and can
reply or not as they see fit

Reviews are always public, but writers can opt not to have their names
displayed against them.

Borrowing is arranged by conversation between lender and borrower.  If
lender has offered to lend a book, site will check with him a bit later
that the book has been lent, so that it can update book whereabouts

The view which allows adding a book is, in application model terms,
creating a Book and creating or finding an Edition and/or Publication.

Wed Oct 19 13:05:45 2011

Some thoughts about user authentication

- probably not that many people will want to maek their entire book
  collection open to the public

- but without a decent amont of books to browse, the average new user
  will not see a compelling case for joining up

- so make the service invite-only: any user may invite his friend and
  at the same time give them browse rights on his collections.  We can
  make it very easy to do this as part of lending them a book

- an email link with a cookie in it is a valid login method for the user
  it is sent to: i.e. lending a book to someone who is not registered 
  will create a User and a :link authorization for them

- there needs to be a user merge operation in case people invite you
  and you're in already, o you have multiple email addresses, etc etc

Avenues to think about right now

1) 'events' model so that people can see what's happening with their 
friends (borrow requests, new books, etc)

2) api for lending a book

book.lend_to(User.find(my_friend_id))

3) new user invitations

User.invite_by_email(email_address)
=> generates a user and a :link authorization 
=> emails the address given 

invitation links can also be shared by twitter DM or other channels


Thu Oct 20 11:57:27 2011

Again with user permissions: adding an extensive set of roles is only
going to lead to extensive trouble, so can we keep it to as few as
possible?

admin - can do everything

moderator - "trusted lieutenants" can't amend personal details but can
fix book descriptions and reviews

Thu Oct 20 13:00:33 2011

New user creation should add a default collection
New collection creation should allow acl to be copied from another collection
Need an interface for editing an acl


Sun Oct 23 15:26:00 2011

Empirical testing says that adding books is really pretty easy.  It
needs some more prominent error alert when a book is not found,
though, and it doesn't scan the barcodes that borders stick to the
backs of books

It is too easy to add books to the wrong collection.  We need some
kind of 'organize' facility which would allow mass
reassignment/processing of many books at once
- change collection
- change shelf
- sort by accession date/etc as well as by author

Suggest we make this accessible from the 'books' collection resource.
Default is to show all books in collections we can see (paginated,
obviously), but we can add filters that combine

owner_id=17&add_date=20111027&author=adams&shelf_id=2&collection_id=6

each row has a check box against it.  There is a menu bar that
gives options for what to do with selected rows, a la gmail

- change collection
- change shelf
- delete

We need a 'search'

We need a warning when a duplicate book is added in case the same one
has been scanned twice, and a field on the book to distinguish one
copy from the next if there really is more than one

Lending: needs implementing

Reviews: needs implementing

New User experience could be several billion times slicker

News: some kind of channel to view changes in your network 
- any changes to collections that you have viewing rights for
- people you may know who have recently joined
- loans from collections you can see
- loans to people whose collections you can see

if there is an opt-out per item for posting to the news channel, that
makes the finer points of privacy easier to deal with, if you are
lending/borrowing an embarrassing book

Thu Oct 27 14:58:47 2011

Let's think about lending

1) a request to lend is just a message of some kind: it doesn't change
book state in any way

2) book#lend(borrower) changes borrower_id

3) book#return deletes it again

4) it should be possible from lend events and book-added events to
work out when people are reading books and prompt them to perform
reviews

Mon Oct 31 15:39:13 2011

'lend' button should pop up a list of potential lendees 